System.register("chunks:///_virtual/addspace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager2.ts","./Constant.ts","./EventManager.ts","./ButtonClickHandler.ts"],(function(t){var e,n,i,a,o,s,r,l,c,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Button,o=t.Label,s=t._decorator,r=t.Component},function(t){l=t.GameManager},function(t){c=t.default},function(t){u=t.eventManager},function(t){d=t.ButtonClickHandler}],execute:function(){var h,g,p,b,m,_,f,D,k;i._RF.push({},"e35548FtltE45a7/E3IbWcJ","addspace",void 0);const{ccclass:C,property:v}=s;t("move",(h=C("move"),g=v(a),p=v(a),b=v(o),h((f=e((_=class extends r{constructor(...t){super(...t),n(this,"btn_close",f,this),n(this,"btn_get",D,this),n(this,"price_label",k,this),this.gameData=void 0}start(){this.gameData=l.loadProgress(),this.price_label.string=`${c.BUY_ADDGEZI}`,this.btn_close.node.on("click",d.handleBtnClickWithSound((()=>{this.onCloseClick()}),this),this),this.btn_get.node.on("click",d.handleBtnClickWithSound((()=>{this.onGetClick()}),this),this)}onCloseClick(){this.node.destroy()}onGetClick(){const t=c.BUY_ADDGEZI;this.gameData.diamonds<t?u.emit(c.SHOW_TOAST,"not enough diamonds"):(this.gameData.diamonds-=t,this.gameData.endGeziLock=!1,l.saveProgress(this.gameData),u.emit(c.REFRESH_TOP),u.emit(c.REFRESH_GEZI),this.node.destroy())}}).prototype,"btn_close",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(_.prototype,"btn_get",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(_.prototype,"price_label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc"],(function(o){var u,e,i,s,t,c;return{setters:[function(o){u=o.cclegacy,e=o.Node,i=o.director,s=o.AudioSource,t=o.AudioClip,c=o.assetManager}],execute:function(){u._RF.push({},"da245hQeYBK74C5UCysiPmg","AudioManager",void 0);class a{static get inst(){return null==this._inst&&(this._inst=new a),this._inst}constructor(){this._audioSource=void 0,this._musicVolume=1,this._musicVolumeScale=1,this._soundVolume=1;let o=new e;o.name="__audioMgr__",i.getScene().addChild(o),i.addPersistRootNode(o),this._audioSource=o.addComponent(s),this._audioSource.loop=!1}get audioSource(){return this._audioSource}set musicVolume(o){this._musicVolume=o,this._audioSource.volume=this._musicVolume*this._musicVolumeScale}set soundVolume(o){this._soundVolume=o}playOneShot(o,u=1,e="b_bundle"){if(o instanceof t)this._audioSource.volume=1,this._audioSource.playOneShot(o,u*this._soundVolume);else{c.getBundle(e).load(o,((o,e)=>{o?console.log(o):(this._audioSource.volume=1,this._audioSource.playOneShot(e,u*this._soundVolume))}))}}play(o,u=!1,e=1,i="b_bundle"){if(this._musicVolumeScale=e,o instanceof t)this._audioSource.stop(),this._audioSource.clip=o,this._audioSource.loop=u,this._audioSource.play(),this.audioSource.volume=this._musicVolume*this._musicVolumeScale;else{c.getBundle(i).load(o,((o,e)=>{o?console.log(o):(this._audioSource.stop(),this._audioSource.clip=e,this._audioSource.loop=u,this._audioSource.play(),this.audioSource.volume=this._musicVolume*this._musicVolumeScale)}))}}stop(){this._audioSource.stop()}pause(){this._audioSource.pause()}resume(){this._audioSource.play()}}o("AudioMgr",a),a._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/b_bundle",["./Constant.ts","./game.ts","./loading.ts","./mask.ts","./gameDataTypes.ts","./MarqueeController.ts","./OpenDiamond.ts","./OpenTask.ts","./RankItem.ts","./TaskItem.ts","./addspace.ts","./flyBox.ts","./flyBoxNode.ts","./inputinfo.ts","./levelselect.ts","./levelstatic.ts","./move.ts","./rank2.ts","./startover.ts","./toast.ts","./result.ts","./AudioManager.ts","./ButtonClickHandler.ts","./EventManager.ts","./TaskData.ts","./gameAlg.ts","./gameManager2.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ButtonClickHandler.ts",["cc","./AudioManager.ts","./Constant.ts"],(function(t){var n,c,e;return{setters:[function(t){n=t.cclegacy},function(t){c=t.AudioMgr},function(t){e=t.default}],execute:function(){n._RF.push({},"7034eP+KuhL3L5dNtv9y0z5","ButtonClickHandler",void 0);t("ButtonClickHandler",class{static handleBtnClickWithSound(t,n){return()=>{c.inst.playOneShot(e.SOUND_BTN),t.call(n)}}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(_){var s;return{setters:[function(_){s=_.cclegacy}],execute:function(){s._RF.push({},"e489907R35P5rxTjARpWlmr","Constant",void 0);class e{}_("default",e),e.SHADOM_NUM=3,e.FREE_GEZI=7,e.MAX_GEZI=8,e.MAX_ITEM=36,e.ADD_MONEY_1_2=3,e.ADD_MONEY_3=.3,e.REMOVE_AD=4,e.REMOVE_AD_COIN=3.5,e.REMOVE_AD_DIAMOND=5,e.BUY_MOVE=100,e.BUY_ROLLBACK=100,e.BUY_REFRESH=100,e.BUY_ADDGEZI=500,e.FLYBOX_TIME=15,e.FLYBOX_INTERVAL=60,e.SHOW_TOAST="show_toast",e.SHOW_LUCKY_BOX="show_lucky_box",e.REFRESH_BUTTOM="refresh_buttom",e.REFRESH_TOP="refresh_top",e.REFRESH_GEZI="refresh_gezi",e.REFRESH_TASK_RED_DOT="refresh_task_red_dot",e.REFRESH_TASK_MAIN_RED_DOT="refresh_task_main_red_dot",e.SOUND_AD="resources/sounds/ad",e.SOUND_BG="resources/sounds/bg",e.SOUND_BTN="resources/sounds/click_btn",e.SOUND_ITEM="resources/sounds/click_item",e.SOUND_LOSE="resources/sounds/lose",e.SOUND_REMOVE="resources/sounds/remove",e.SOUND_REWARD="resources/sounds/reward",e.SOUND_START="resources/sounds/start",e.SOUND_WIN="resources/sounds/win",e.ADD_SPACE_PRE="prefabs/addspace",e.RESULT_PRE="prefabs/result",e.INPUT_INFO_PRE="prefabs/inputinfo",e.LEVEL_SELECT_PRE="prefabs/levelselect",e.LEVEL_STATIC_PRE="prefabs/levelstatic",e.LUCK_BOX_PRE="prefabs/luckbox",e.MOVE_PRE="prefabs/move",e.RANK_INFO_PRE="prefabs/rankinfo",e.START_OVER_PRE="prefabs/startover",e.TASK_PRE="prefabs/task",e.TOAST_PRE="prefabs/toast",e.FIRST_LOSE="first_lose",s._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"19e66oifz9DdITkPeyxifUn","EventManager",void 0);class n{constructor(){this._eventMap=new Map}static get instance(){return n._instance||(n._instance=new n),n._instance}on(e,t,n){this._eventMap.has(e)||this._eventMap.set(e,new Set);this._eventMap.get(e).add({callback:t,target:n})}off(e,t){if(!this._eventMap.has(e))return;const n=this._eventMap.get(e);if(t)for(const e of n)e.callback!==t&&e.target!==t||n.delete(e);else n.clear()}emit(e,t){if(!this._eventMap.has(e))return;const n=this._eventMap.get(e);new Set(n).forEach((n=>{try{n.callback.call(n.target,t)}catch(t){console.error(`Event ${e} handler error:`,t)}}))}once(e,t,n){this.on(e,(e=>{t.call(n,e)}),n)}}e("EventManager",n),n._instance=void 0;e("eventManager",n.instance);t._RF.pop()}}}));

System.register("chunks:///_virtual/flyBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./EventManager.ts","./ButtonClickHandler.ts"],(function(t){var e,i,s,n,o,r,a,h,l,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t._decorator,o=t.Component,r=t.view,a=t.Vec3,h=t.UITransform},function(t){l=t.default},function(t){c=t.eventManager},function(t){d=t.ButtonClickHandler}],execute:function(){var u,p,f,y;s._RF.push({},"03a87de8KhMQZFbC8Ll9ghG","flyBox",void 0);const{ccclass:m,property:g}=n;t("flyBox",m("flyBox")((f=e((p=class extends o{constructor(...t){super(...t),i(this,"amplitude",f,this),i(this,"frequency",y,this),this.speed=0,this.startY=0,this.screenWidth=0,this.elapsedTime=0}start(){var t;this.startY=this.node.position.y,this.screenWidth=r.getVisibleSize().width,this.speed=this.screenWidth/l.FLYBOX_TIME;const e=new a(-(null==(t=this.node.getComponent(h))?void 0:t.width)-350||-100,this.startY,0);this.node.setPosition(e),this.elapsedTime=0,this.node.on("click",d.handleBtnClickWithSound((()=>{this.node.destroy(),c.emit(l.SHOW_LUCKY_BOX)}),this),this)}update(t){var e;this.elapsedTime+=t;const i=this.node.position.x+this.speed*t,s=this.startY+Math.sin(this.elapsedTime*this.frequency)*this.amplitude;this.node.setPosition(i,s,0),i>this.screenWidth+((null==(e=this.node.getComponent(h))?void 0:e.width)||100)&&this.node.destroy()}}).prototype,"amplitude",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),y=e(p.prototype,"frequency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),u=p))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/flyBoxNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(t){var e,n,s,o,i,r,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.Prefab,i=t._decorator,r=t.Component,a=t.instantiate},function(t){c=t.default}],execute:function(){var l,u,p,f,h;s._RF.push({},"c32f5JEUnlPZKTc5bAkReKr","flyBoxNode",void 0);const{ccclass:d,property:y}=i;t("flyBoxNode",(l=d("flyBoxNode"),u=y(o),l((h=e((f=class extends r{constructor(...t){super(...t),n(this,"movingPrefab",h,this)}onLoad(){this.startFly()}startFly(){this.unschedule(this.spawnInstance),this.schedule(this.spawnInstance,c.FLYBOX_INTERVAL)}stopFlay(){this.unschedule(this.spawnInstance)}spawnInstance(){if(!this.movingPrefab)return;a(this.movingPrefab).parent=this.node.parent||void 0}}).prototype,"movingPrefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./result.ts","./levelselect.ts","./flyBoxNode.ts","./startover.ts","./OpenDiamond.ts","./levelstatic.ts","./toast.ts","./Constant.ts","./EventManager.ts","./gameManager2.ts","./gameAlg.ts","./move.ts","./AudioManager.ts","./ButtonClickHandler.ts","./TaskData.ts","./BundleLoader.ts"],(function(t){var e,i,o,s,n,a,l,r,h,d,c,m,u,g,b,p,f,y,S,x,v,_,C,k,N,w,B,D,I,P,T,E,R,z,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.Button,n=t.Prefab,a=t.Node,l=t._decorator,r=t.Component,h=t.instantiate,d=t.tween,c=t.view,m=t.Sprite,u=t.Vec3,g=t.UITransform,b=t.director,p=t.Layers,f=t.Graphics,y=t.Color,S=t.Label},function(t){x=t.result},function(t){v=t.levelselect},function(t){_=t.flyBoxNode},function(t){C=t.startover},function(t){k=t.OpenDiamond},function(t){N=t.levelstatic},function(t){w=t.toast},function(t){B=t.default},function(t){D=t.eventManager},function(t){I=t.GameManager},function(t){P=t.GameAlg},function(t){T=t.move},function(t){E=t.AudioMgr},function(t){R=t.ButtonClickHandler},function(t){z=t.TaskData},function(t){A=t.BundleLoader}],execute:function(){var M,F,G,O,L,$,H,W,U,V,K,X,Z,Y,J,j,q,Q,tt,et,it,ot,st,nt,at,lt,rt,ht,dt,ct,mt,ut,gt;o._RF.push({},"ee0d8UHIdVBso7lKh44pyzf","game",void 0);const{ccclass:bt,property:pt}=l;t("game",(M=bt("game"),F=pt({type:s}),G=pt({type:s}),O=pt({type:s}),L=pt({type:s}),$=pt({type:n}),H=pt({type:n}),W=pt({type:a}),U=pt({type:a}),V=pt({type:a}),K=pt({type:a}),X=pt({type:s}),Z=pt({type:s}),Y=pt({type:s}),J=pt({type:s}),j=pt({type:s}),M((tt=e((Q=class extends r{constructor(...t){super(...t),i(this,"btn_move",tt,this),i(this,"btn_refresh",et,this),i(this,"btn_reset",it,this),i(this,"btn_rollback",ot,this),i(this,"bigBox",st,this),i(this,"smallBox",nt,this),i(this,"content",at,this),i(this,"bottom",lt,this),i(this,"gezi",rt,this),i(this,"bottomExtra",ht,this),i(this,"btn_rank",dt,this),i(this,"btn_task",ct,this),i(this,"btn_diamond",mt,this),i(this,"btn_withdraw",ut,this),i(this,"btn_input",gt,this),this.items=[],this.boxNodes=[],this.geziPositions=[],this.moneypoints=null,this.bottomSlots=Array(B.FREE_GEZI).fill(null),this.bottomGezi=[],this.bottomExtraGezi=[],this.originalExtraPositions=[],this.allitemPositions=Array.from({length:100},(()=>Array.from({length:100},(()=>[])))),this.clickMoveNumArry=[],this.clickRollbackNumArry=[],this.clickRefreshNumArry=[],this.guideMask=null,this.canClickTypeArry=[],this.flyBoxComp=void 0,this.gameData=void 0,this.levelData=null,this.shadowNameSuffixes=[],this.historyStack=[],this.moveNum=0,this.isBundleLoading=!1,this.isBundleLoaded=!1}loadBundleResources(){this.isBundleLoading||this.isBundleLoaded||(this.isBundleLoading=!0,console.log("开始后台加载b_bundle资源..."),A.loadRemoteBundleAllRes("b_bundle",(t=>{t.success?(console.log("b_bundle Prefab资源加载完成"),A.loadItemsAllRes("b_bundle",(t=>{t.success?(console.log("b_bundle Items图片资源加载完成"),this.isBundleLoaded=!0,this.isBundleLoading=!1):t.failed&&(console.error("b_bundle Items图片资源加载失败"),this.isBundleLoading=!1)}))):t.failed&&(console.error("b_bundle Prefab资源加载失败"),this.isBundleLoading=!1)})))}showToast(t){A.loadPrefab("b_bundle",B.TOAST_PRE).then((e=>{const i=h(e);i.getComponent(w).setString(t),i.parent=this.node})).catch((t=>{console.error("Failed to load prefab data:",t)}))}start(){cc.sys.localStorage.setItem(B.FIRST_LOSE,0),this.shadowNameSuffixes=Array.from({length:B.SHADOM_NUM},((t,e)=>`_shadow${e+1}`)),this.gameData=I.loadProgress(),console.log("加载的游戏数据:",this.gameData),this.refreshTop(),this.initBg(),this.initGeziPositions(),this.initBtns(),this.updateTaskRedDot(),this.historyStack=[],A.loadJson("b_bundle","resources/data/level").then((t=>{this.levelData=t[this.gameData.level-1],this.initGameData(),this.refreshBottom(),this.createBigBoxes(),this.gameData.showGuide&&this.showGuide()})).catch((t=>{console.error("Failed to load level data:",t)})),E.inst.play(B.SOUND_BG,!0),this.initOriginalExtraPositions(),D.once(B.SHOW_TOAST,(t=>{this.showToast(t)}),this),D.once(B.REFRESH_BUTTOM,(t=>{this.canClickTypeArry&&t&&(this.canClickTypeArry[t]=1),this.refreshBottom()}),this),D.once(B.REFRESH_TOP,(t=>{this.refreshTop()}),this),D.once(B.REFRESH_GEZI,(t=>{this.refreshLockGezi()}),this),this.flyBoxComp=this.node.getChildByName("flyBoxNode").getComponent(_),D.once(B.SHOW_LUCKY_BOX,(t=>{this.flyBoxComp&&(this.flyBoxComp.stopFlay(),A.loadPrefab("b_bundle",B.LUCK_BOX_PRE).then((t=>{const e=h(t);this.node.addChild(e);const i=e.getComponent(k);i.setModel("Lucky"),i.setCallback((()=>{this.flyBoxComp.startFly()}))})).catch((t=>{console.error("Failed to load prefab data:",t)})))}),this),D.once(B.REFRESH_TASK_MAIN_RED_DOT,(()=>{this.updateTaskRedDot()}),this),this.clickMoveNumArry[this.gameData.level]=0,this.clickRollbackNumArry[this.gameData.level]=0,this.clickRefreshNumArry[this.gameData.level]=0,this.canClickTypeArry=[void 0,0,0,0];const t=this.gezi.children[this.gezi.children.length-1];if(t.getChildByName("node").active=!1,this.gameData.endGeziLock){t.getChildByName("node").active=!0;const e=t.getChildByName("node").getChildByName("zhanwei");this.startSmoothJump(e),e.on("click",R.handleBtnClickWithSound((()=>{A.loadPrefab("b_bundle",B.ADD_SPACE_PRE).then((t=>{const e=h(t);this.node.addChild(e)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}),this),this)}}refreshLockGezi(){if(!this.gezi)return;this.gezi.children[this.gezi.children.length-1].getChildByName("node").active=!1,this.bottomSlots.push(null)}startSmoothJump(t){let e=t.position.y;d(t).to(.4,{y:e+50},{easing:"sineOut"}).to(.4,{y:e},{easing:"sineIn"}).union().repeatForever().start()}initBg(){const t=this.node.getChildByName("bg");if(!t)return;const e=c.getVisibleSize(),i=t.getComponent(m);if(!i||!i.spriteFrame)return;const o=i.spriteFrame.originalSize,s=e.width/o.width,n=e.height/o.height,a=Math.max(s,n);t.setScale(a,a,1)}initGeziPositions(){this.geziPositions=[];let t=this.bottom.getChildByName("gezi");for(let e=0;e<B.MAX_GEZI;e++)this.geziPositions.push(t.getChildByName(`${e+1}`).getPosition())}createSideNodeAnimation(t,e){const i=t.position.clone();return d(t).to(.5,{position:new u(i.x+e,i.y,i.z)}).call((()=>{this.reshuffleItems()})).delay(1).to(.5,{position:i})}initBtns(){this.btn_move&&this.btn_move.node.on("click",R.handleBtnClickWithSound((()=>{this.clickMoveNumArry[this.gameData.level]>=this.levelData.maxMoveNum?D.emit(B.SHOW_TOAST,"Alreay Used"):1==this.canClickTypeArry[1]?this.move():this.showBottomPrefab(1)}),this),this),this.btn_rollback&&this.btn_rollback.node.on("click",R.handleBtnClickWithSound((()=>{this.rollback()}),this),this),this.btn_refresh&&this.btn_refresh.node.on("click",R.handleBtnClickWithSound((()=>{var t,e;if(this.clickRefreshNumArry[this.gameData.level]>=this.levelData.maxRefreshNum)return void D.emit(B.SHOW_TOAST,"Alreay Used");if(1!=this.canClickTypeArry[3])return void this.showBottomPrefab(3);const i=this.node.getChildByName("door1"),o=this.node.getChildByName("door2");this.createSideNodeAnimation(i,null==(t=i.getComponent(g))?void 0:t.width).start(),this.createSideNodeAnimation(o,-(null==(e=o.getComponent(g))?void 0:e.width)).start()}),this),this),this.btn_reset&&this.btn_reset.node.on("click",R.handleBtnClickWithSound((()=>{A.loadPrefab("b_bundle",B.START_OVER_PRE).then((t=>{const e=h(t);this.node.addChild(e);e.getComponent(C).initData((()=>{this.showLevelSelect((()=>{this.restartGame()}),this.gameData.level)}))})).catch((t=>{console.error("Failed to load prefab data:",t)}))}),this),this),this.btn_rank.node.on("click",R.handleBtnClickWithSound((()=>{A.loadPrefab("b_bundle",B.RANK_INFO_PRE).then((t=>{const e=h(t);this.node.addChild(e)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}),this),this),this.btn_task&&this.btn_task.node.on("click",R.handleBtnClickWithSound((()=>{A.loadPrefab("b_bundle",B.TASK_PRE).then((t=>{const e=h(t);this.node.addChild(e)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}),this),this),this.btn_diamond&&this.btn_diamond.node.on("click",R.handleBtnClickWithSound((()=>{A.loadPrefab("b_bundle",B.LUCK_BOX_PRE).then((t=>{const e=h(t);this.node.addChild(e);e.getComponent(k).setModel("Daily")})).catch((t=>{console.error("Failed to load prefab data:",t)}))}),this),this),this.btn_withdraw&&this.btn_withdraw.node.on("click",R.handleBtnClickWithSound((()=>{this.OpenLevelStatic("Withdraw")}),this),this),this.btn_input&&this.btn_input.node.on("click",R.handleBtnClickWithSound((()=>{A.loadPrefab("b_bundle",B.INPUT_INFO_PRE).then((t=>{const e=h(t);this.node.addChild(e)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}),this),this)}OpenLevelStatic(t,e){A.loadPrefab("b_bundle",B.LEVEL_STATIC_PRE).then((i=>{const o=h(i);this.node.addChild(o);o.getComponent(N).selectLayer(t,e)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}reshuffleItems(){this.canClickTypeArry[3]=0,D.emit(B.REFRESH_BUTTOM,0),this.clickRefreshNumArry[this.gameData.level]++;const t=[];for(let e=0;e<this.levelData.rows;e++)for(let i=0;i<3*this.levelData.columns;i++)for(let o=0;o<this.items[e][i].length;o++)null!==this.items[e][i][o]&&void 0!==this.items[e][i][o]&&t.push({type:this.items[e][i][o],row:e,col:i,layer:o});for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e].type,t[i].type]=[t[i].type,t[e].type]}const e=new Map;for(const i of t){const t=`${i.row}-${i.col}`;e.has(t)||e.set(t,new Map),e.get(t).set(i.layer,i.type)}for(let t=0;t<this.levelData.rows;t++)for(let i=0;i<3*this.levelData.columns;i++){const o=`${t}-${i}`;if(!e.has(o))continue;e.get(o).forEach(((e,o)=>{this.items[t][i][o]=e}));const s=t*this.levelData.columns+Math.floor(i/3),n=this.boxNodes[s];if(!n)continue;const a=i%3+1;A.loadSpriteFrame("b_bundle",`resources/textures/items/${this.items[t][i][0]}`).then((t=>{n.getChildByName(`${a}`).getComponent(m).spriteFrame=t})).catch((t=>{console.error("Failed to load sprite data:",t)}));for(let e=1;e<=Math.min(B.SHADOM_NUM,this.items[t][i].length-1);e++){const o=this.items[t][i][e],s=`${a}${this.shadowNameSuffixes[e-1]}`;n.getChildByName(s)&&A.loadSpriteFrame("b_bundle",`resources/textures/items/${o}_shadow`).then((t=>{const e=n.getChildByName(s).getComponent(m);e.spriteFrame=t,e.node.active=!0})).catch((t=>{console.error("Failed to load sprite data:",t)}))}for(let e=Math.max(1,this.items[t][i].length);e<=B.SHADOM_NUM;e++){const t=`${a}${this.shadowNameSuffixes[e-1]}`;n.getChildByName(t)&&(n.getChildByName(t).active=!1)}}}showBottomPrefab(t){A.loadPrefab("b_bundle",B.MOVE_PRE).then((e=>{const i=h(e);i.getComponent(T).setItemType(t),this.node.addChild(i)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}refreshBottom(){if(!this.btn_move||!this.btn_rollback||!this.btn_refresh)return;[{btn:this.btn_move,index:1},{btn:this.btn_rollback,index:2},{btn:this.btn_refresh,index:3}].forEach((({btn:t,index:e})=>{const i=t.node.getChildByName("jia"),o=t.node.getChildByName("red");i.active=1!==this.canClickTypeArry[e],o.active=1===this.canClickTypeArry[e]}))}initGameData(){const t=new P({rows:this.levelData.rows,cols:this.levelData.columns,boxInfo:this.levelData.boxes,maxLayers:this.levelData.maxLayers,layersItemTypesCount:this.levelData.layersItemTypesCount,allItemTypes:B.MAX_ITEM,gridLayerRange:this.levelData.gridLayerRange});this.items=t.generateBoardData(),console.log("======this.items",this.items),this.bottomSlots=Array(this.gameData.endGeziLock?B.FREE_GEZI:B.MAX_GEZI).fill(null)}createBigBoxes(){const t=this.levelData.boxes;this.boxNodes=[],this.content.removeAllChildren();for(let e=0;e<this.levelData.rows;e++){let i=this.items[e];for(let o=0;o<this.levelData.columns;o++){const s=t[e*this.levelData.columns+o];if(0===s.z){const t="small"===this.levelData.boxType?h(this.smallBox):h(this.bigBox);t.setPosition(s.x,s.y,0),A.loadSpriteFrame("b_bundle",`resources/textures/game/box${o+1}`).then((e=>{t.getChildByName("box_bg").getComponent(m).spriteFrame=e})).catch((t=>{console.error("Failed to load sprite data:",t)}));for(let s=0;s<3;s++){const n=3*o+s;if(i[n].length>0){const o=i[n][0],a=t.getChildByName(`${s+1}`);let l=new u(a.getPosition().x,a.getPosition().y,0);this.allitemPositions[e][n]=l,a.itemIdx={from:0,index:0,row:e,colIdx:n},a.on("click",(t=>{this.onItemClick(t,a.itemIdx)}),this);const r=a.getComponent(m);A.loadSpriteFrame("b_bundle",`resources/textures/items/${o}`).then((t=>{r.spriteFrame=t,a.active=!0})).catch((t=>{console.error("Failed to load sprite data:",t)}));for(let e=1;e<=Math.min(B.SHADOM_NUM,i[n].length-1);e++){const o=i[n][e],a=`${s+1}${this.shadowNameSuffixes[e-1]}`;t.getChildByName(a)&&A.loadSpriteFrame("b_bundle",`resources/textures/items/${o}_shadow`).then((e=>{const i=t.getChildByName(a).getComponent(m);i.spriteFrame=e,i.node.active=!0})).catch((t=>{console.error("Failed to load sprite data:",t)}))}for(let e=i[n].length;e<=B.SHADOM_NUM;e++){const i=`${s+1}${this.shadowNameSuffixes[e-1]}`;t.getChildByName(i)&&(t.getChildByName(i).active=!1)}}}this.content.addChild(t),this.boxNodes.push(t)}else this.boxNodes.push(null)}}}onItemClick(t,e){E.inst.playOneShot(B.SOUND_ITEM),console.log("Item clicked: ",e);let i=this.bottomSlots.findIndex((t=>null===t));if(-1===i)return;const o=e.colIdx%3+1,s=e.row*this.levelData.columns+Math.floor(e.colIdx/3),n=this.boxNodes[s];if(console.log(`Box index: ${s}, Item in box index: ${o}`),!n)return void console.warn(`Box node not found for index: ${s}`);if(1===e.from){let e=this.bottomExtraGezi.indexOf(t.node);this.bottomExtraGezi.splice(e,1),this.updateExtraItemPositions()}1===e.from&&(this.items[e.row][e.colIdx][0]=e.itemType);let a=this.items[e.row][e.colIdx][0];const l=this.bottomSlots.lastIndexOf(a);let r=0;const c=[];if(-1!==l){for(let t=l+1;t<this.bottomSlots.length;t++)null!==this.bottomSlots[t]&&c.push(t);i=l+1,r=this.gezi.getChildByName(`${i+1}`).getPosition().x-this.gezi.getChildByName(`${i}`).getPosition().x}const g=this.gezi.getChildByName(`${i+1}`).getWorldPosition();let b=this.content.inverseTransformPoint(new u,g);const p=n.getChildByName(`${o}`);c.length>0?(this.bottomSlots.splice(i,0,this.items[e.row][e.colIdx][0]),this.bottomSlots.pop()):this.bottomSlots[i]=this.items[e.row][e.colIdx][0],this.items[e.row][e.colIdx].splice(0,1);let f=h(p||t.node),y=f;if(y.itemIdx=e,f.itemIdx=e,1===e.from){let t=e.itemType,i=y.getComponent(m);A.loadSpriteFrame("b_bundle",`resources/textures/items/${t}`).then((t=>{i.spriteFrame=t})).catch((t=>{console.error("Failed to load sprite data:",t)}))}y.active=!0;let S=t.node.getWorldPosition();p?(this.content.addChild(f),f.setPosition(this.content.inverseTransformPoint(new u,S))):this.gameData.showGuide?(this.node.addChild(f),f.setPosition(this.node.inverseTransformPoint(new u,S)),b=this.node.inverseTransformPoint(new u,g)):(this.content.addChild(f),f.setPosition(this.content.inverseTransformPoint(new u,S))),y.off("click");if(this.shadowNameSuffixes.map((t=>`${o}${t}`)).forEach((t=>{n.getChildByName(t)&&(n.getChildByName(t).active=!1)})),0===e.from&&Array.isArray(this.items[e.row][e.colIdx])&&this.items[e.row][e.colIdx].length>0){A.loadSpriteFrame("b_bundle",`resources/textures/items/${this.items[e.row][e.colIdx][0]}`).then((e=>{t.node.getComponent(m).spriteFrame=e})).catch((t=>{console.error("Failed to load sprite data:",t)}));for(let t=1;t<=Math.min(B.SHADOM_NUM,this.items[e.row][e.colIdx].length-1);t++){const i=this.items[e.row][e.colIdx][t];A.loadSpriteFrame("b_bundle",`resources/textures/items/${i}_shadow`).then((e=>{let i=n.children.find((e=>e.name===`${o}_shadow${t}`));i.getComponent(m).spriteFrame=e,i.active=!0})).catch((t=>{console.error("Failed to load sprite data:",t)}))}}else t.node.active=!1;let x={itemIdx:{row:e.row,col:e.colIdx},targetPos:[S,g],targetIdx:i,moveRight:r,bottomMoveRecord:[]};if(c.length>0){let t=0;for(let e of c){const i=this.bottomGezi[e];i&&i.isValid?d(i).to(.2,{position:i.position.add(new u(r,0,0))}).call((()=>{t++,t===c.length&&d(y).to(.3,{position:b}).call((()=>{this.checkEliminate(r)})).start()})).start():t++}this.bottomGezi.splice(i,0,y),console.log(i+1)}else d(y).to(.3,{position:b}).call((()=>{if(this.gameData.showGuide){const t=this.findNextSameItem(this.bottomSlots[i]);null!==t&&(console.log(`Found next same item at index: ${t}`),this.moveItemToGuideMask(t.boxIdx,t.boxItemIdx))}this.checkEliminate(r)})).start(),this.bottomGezi.push(y);this.historyStack.push(x),this.historyStack.sort(((t,e)=>t.targetIdx-e.targetIdx));let v=-1;for(let t of this.historyStack)t.targetIdx<=v&&(t.targetIdx=v+1),v=t.targetIdx}playFlyCoin(t){for(let e=t;e<t+3;e++){const t=this.bottomGezi[e];if(!t||!t.isValid)continue;const i=this.node.getComponent(g).convertToNodeSpaceAR(this.moneypoints);A.loadSpriteFrame("b_bundle","resources/textures/game/money").then((e=>{t.getComponent(m).spriteFrame=e})).catch((t=>{console.error("Failed to load sprite data:",t)})),d(t).to(.5,{position:i}).call((()=>{console.log("消除成功，节点 已销毁",t.itemIdx),t.destroy()})).start()}}checkEliminate(t){for(let e=0;e<=7;e++){const i=this.bottomSlots[e],o=this.bottomSlots[e+1],s=this.bottomSlots[e+2];if(i&&i===o&&o===s){this.bottomSlots[e]=this.bottomSlots[e+1]=this.bottomSlots[e+2]=null,this.gameData.removeNum+=1,this.gameData.level>2&&this.gameData.removeNum%B.REMOVE_AD==0?(this.showResultPrefab(2),this.playFlyCoin(e)):this.playFlyCoin(e);const i=[];for(let t=e+3;t<this.bottomSlots.length;t++)null!==this.bottomSlots[t]&&i.push(t);let o=0;for(let s of i){const n=this.bottomGezi[s];n&&n.isValid?d(n).to(.2,{position:n.position.add(new u(3*-t,0,0))}).call((()=>{o++,o===i.length&&this.bottomGezi.splice(e,3)})).start():o++}if(0===i.length&&this.bottomGezi.splice(e,3),this.bottomSlots.splice(e,3),this.bottomSlots.push(null,null,null),this.historyStack.splice(-3),this.gameData.level<=2?this.gameData.money+=B.ADD_MONEY_1_2:this.gameData.money+=B.ADD_MONEY_3,E.inst.playOneShot(B.SOUND_REMOVE),this.gameData.showGuide){this.guideMask&&(this.changeGeziPos(),this.guideMask.destroy(),this.guideMask=null);const t=this.node.getChildByName("shou");t&&t.removeFromParent(),this.gameData.showGuide=!1}I.saveProgress(this.gameData),D.emit(B.REFRESH_TASK_MAIN_RED_DOT),this.refreshTop();break}}let e=!0;for(let t=0;t<this.levelData.rows;t++){for(let i=0;i<3*this.levelData.columns;i++)if(this.items[t][i].length>0){e=!1;break}if(!e)break}const i=this.bottomSlots.every((t=>null!==t));e&&this.showResultPrefab(1,(()=>{this.showLevelSelect((()=>{this.gameData.level+=1,I.saveProgress(this.gameData),this.restartGame()}))})),i&&this.gameFailure()}showLevelSelect(t,e){let i=this.gameData.level+1;void 0!==e&&(i=e),A.loadPrefab("b_bundle",B.LEVEL_SELECT_PRE).then((e=>{const o=h(e);o.parent=this.node;o.getComponent(v).initData(i,(()=>{o.removeFromParent(),t()}))})).catch((t=>{console.error("Failed to load prefab data:",t)}))}restartGame(){this.historyStack=[],this.items=[],this.boxNodes=[],this.geziPositions=[],this.moneypoints=null,this.bottomSlots=Array(this.gameData.endGeziLock?B.FREE_GEZI:B.MAX_GEZI).fill(null),this.bottomGezi=[],this.guideMask=null,this.bottomExtraGezi=[],this.originalExtraPositions=[],this.allitemPositions=[],this.clickMoveNumArry[this.gameData.level]=0,this.clickRollbackNumArry[this.gameData.level]=0,this.clickRefreshNumArry[this.gameData.level]=0,this.canClickTypeArry.fill(0,1,4),D.off(B.SHOW_TOAST),D.off(B.REFRESH_BUTTOM),D.off(B.REFRESH_TOP),D.off(B.REFRESH_TASK_MAIN_RED_DOT),b.loadScene("Game"),this.flyBoxComp.startFly()}findNextSameItem(t){for(let e=0;e<this.levelData.rows;e++)for(let i=0;i<3*this.levelData.columns;i++)if(this.items[e][i][0]===t)return{boxIdx:e*this.levelData.columns+Math.floor(i/3),boxItemIdx:i%3};return null}isGameOver(){return this.items.every((t=>null===t))}initOriginalExtraPositions(){this.originalExtraPositions=[],this.bottomExtra.children.forEach((t=>{this.originalExtraPositions.push(t.getWorldPosition())}))}updateExtraItemPositions(){for(let t=0;t<this.bottomExtraGezi.length;t++){const e=this.bottomExtraGezi[t],i=this.originalExtraPositions[t];e.setPosition(this.content.inverseTransformPoint(new u,i))}}move(){const t=this.bottomSlots.findIndex((t=>null===t));if(0==t)return void D.emit(B.SHOW_TOAST,"No mobility");this.canClickTypeArry[1]=0,D.emit(B.REFRESH_BUTTOM,0),this.clickMoveNumArry[this.gameData.level]++;let e=t;t>=3&&(e=3);let i=t;-1==t&&(i=this.bottomSlots.length,e=3);let o=0,s=0;e>1&&(s=120),this.historyStack.splice(0,e);for(let t=0;t<this.historyStack.length;t++)this.historyStack[t].targetIdx=t;const n=this.bottomExtra.getChildByName("1").getWorldPosition();let a=this.content.inverseTransformPoint(new u,n);for(let t=0;t<e;t++){let n=new u(a.x+s*(t+this.moveNum),a.y,a.z),l={...this.bottomGezi[t].itemIdx};l.from=1,l.itemType=this.bottomSlots[t],this.items[l.row][l.colIdx].splice(0,0,this.bottomSlots[t]),d(this.bottomGezi[t]).to(.2,{position:n}).call((()=>{if(this.bottomGezi[t].once("click",(t=>{this.onItemClick(t,l)}),this),this.bottomExtraGezi.push(this.bottomGezi[t]),this.bottomSlots[t]=null,o++,o>=e){let t=[...this.bottomSlots];this.bottomSlots=[...t.splice(e),...t.splice(0,e)],this.bottomGezi.splice(0,e);const o=i-e;for(let t=0;t<o;t++)d(this.bottomGezi[t]).to(.2,{position:new u(this.bottomGezi[t].getPosition().x-s*e,this.bottomGezi[t].getPosition().y,this.bottomGezi[t].getPosition().z)}).start()}})).start()}this.moveNum=this.moveNum+e}showResultPrefab(t,e){A.loadPrefab("b_bundle",B.RESULT_PRE).then((i=>{const o=h(i);this.node.addChild(o);const s=o.getComponent(x);s&&"function"==typeof s.showResult&&s.showResult(t,e)})).catch((t=>{console.error("Failed to load prefab data:",t)}))}onTouchStart(t){t.propagationStopped=!0,console.log("透明层被点击")}changeGeziPos(){const t=this.gezi.getWorldPosition();this.gezi.parent=this.bottom,this.gezi.setPosition(this.bottom.getComponent(g).convertToNodeSpaceAR(t)),this.gezi.setSiblingIndex(1)}showGuide(){this.guideMask&&(this.guideMask.destroy(),this.guideMask=null),this.scheduleOnce((()=>{this.loadBundleResources()}),1),this.guideMask=new a("TransparentLayer"),this.guideMask.layer=p.Enum.UI_2D;this.guideMask.addComponent(g).contentSize=c.getVisibleSize();const t=this.guideMask.addComponent(f);t.fillColor=new y(0,0,0,128),t.rect(-c.getVisibleSize().width/2,-c.getVisibleSize().height/2,c.getVisibleSize().width,c.getVisibleSize().height),t.fill(),this.guideMask.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.addChild(this.guideMask);const e=this.boxNodes.findIndex((t=>null!==t));this.gameData.showGuide&&this.moveItemToGuideMask(e,0);const i=this.gezi.getWorldPosition();this.gezi.parent=this.node,this.gezi.setPosition(this.node.getComponent(g).convertToNodeSpaceAR(i)),this.gezi.setSiblingIndex(this.guideMask.getSiblingIndex()+1)}moveItemToGuideMask(t,e){const i=this.boxNodes[t].getChildByName(`${e+1}`),o=i.getWorldPosition();this.node.addChild(i),i.setPosition(this.node.getComponent(g).convertToNodeSpaceAR(o)),i.setSiblingIndex(this.guideMask.getSiblingIndex()+2),A.loadSpriteFrame("b_bundle","resources/textures/popup/shou").then((t=>{if(!this.gameData.showGuide)return;let e=this.node.getChildByName("shou");if(!e){e=new a("shou");e.addComponent(g);e.setScale(.6,.6),e.addComponent(m).spriteFrame=t,e.setParent(this.node)}const o=c.getVisibleSize();let s;i.getComponent(g).convertToWorldSpaceAR(new u(0,0,0)).x<o.width/2?(e.getComponent(g).anchorPoint.set(1,1),e.setScale(-.6,.6),s=i.getWorldPosition()):(e.getComponent(g).anchorPoint.set(1,1),e.setScale(.6,.6),s=i.getWorldPosition()),e.setPosition(this.node.getComponent(g).convertToNodeSpaceAR(s)),e.setSiblingIndex(i.getSiblingIndex()+1)}))}hideGuide(){this.guideMask&&(this.guideMask.active=!1)}refreshColIdx(t,e){const i=t*this.levelData.columns+Math.floor(e/3),o=this.boxNodes[i],s=this.items[t][e][0],n=this.items[t][e][1];if(s){const t=e%3+1;A.loadSpriteFrame("b_bundle",`resources/textures/items/${s}`).then((e=>{const i=o.getChildByName(`${t}`);i.getComponent(m).spriteFrame=e,i.active=!0})).catch((t=>{console.error("Failed to load sprite data:",t)}));const i=o.getChildByName(`${t}_shadow`);if(i)if(n){const t=i.getComponent(m);A.loadSpriteFrame("b_bundle",`resources/textures/items/${n}_shadow`).then((e=>{t.spriteFrame=e,i.active=!0})).catch((t=>{console.error("Failed to load sprite data:",t)}))}else i.active=!1}}getOriginalItemNode(t,e){const i=t*this.levelData.columns+Math.floor(e/3),o=e%3+1;return this.boxNodes[i].getChildByName(`${o}`)}rollback(){if(this.clickRollbackNumArry[this.gameData.level]>=this.levelData.maxRollBackNum)return void D.emit(B.SHOW_TOAST,"Alreay Used");if(1!=this.canClickTypeArry[2])return void this.showBottomPrefab(2);if(0===this.historyStack.length)return void console.log("没有可回退的历史记录");this.canClickTypeArry[2]=0,D.emit(B.REFRESH_BUTTOM,0),this.clickRollbackNumArry[this.gameData.level]++;const t=this.historyStack.pop();this.items[t.itemIdx.row][t.itemIdx.col].splice(0,0,this.bottomSlots[t.targetIdx]);const e=this.getOriginalItemNode(t.itemIdx.row,t.itemIdx.col).getWorldPosition(),i=this.bottomGezi[t.targetIdx];i&&d(i).to(.3,{position:this.content.inverseTransformPoint(new u,e)}).call((()=>{if(i.destroy(),this.refreshColIdx(t.itemIdx.row,t.itemIdx.col),this.bottomGezi.splice(t.targetIdx,1),this.bottomSlots[t.targetIdx]=null,t.bottomMoveRecord.length>0){let e=0;for(let i of t.bottomMoveRecord)d(this.bottomGezi[i.geziIdx]).to(.2,{position:this.bottomGezi[i.geziIdx].position.add(new u(-i.moveX,0,0))}).call((()=>{this.bottomSlots[i.geziIdx]=this.bottomSlots[i.geziIdx+1],e++,e===t.bottomMoveRecord.length&&(this.bottomSlots[i.geziIdx+1]=null)})).start()}})).start()}refreshTop(){if(!this.node)return;this.gameData=I.loadProgress();const t=this.node.getChildByName("top");this.moneypoints||(this.moneypoints=t.getChildByName("money").getChildByName("money").getWorldPosition()),t.getChildByName("money").getChildByName("value").getComponent(S).string=`${this.gameData.money.toFixed(2)}`,t.getChildByName("diamond").getChildByName("value").getComponent(S).string=this.gameData.diamonds.toString()}updateTaskRedDot(){if(!this.node)return;this.node.getChildByName("top").getChildByName("btn_task").getChildByName("redDot").active=z.getInstance().checkTaskBtnRedDot()}loadGameProgress(){const t=localStorage.getItem("gameData");if(t)try{const e=JSON.parse(t);e.items&&e.bottomSlots&&(this.items=e.items,this.bottomSlots=e.bottomSlots)}catch(t){console.warn("读取进度失败:",t)}}gameFailure(){0==cc.sys.localStorage.getItem(B.FIRST_LOSE)?this.OpenLevelStatic("Resurrection",(t=>{if("Buy"==t){if(this.gameData.diamonds<B.BUY_MOVE)return D.emit(B.SHOW_TOAST,"not enough diamonds"),void this.showResultPrefab(0,(()=>{this.restartGame()}));cc.sys.localStorage.setItem(B.FIRST_LOSE,1),this.gameData.diamonds-=B.BUY_MOVE,I.saveProgress(this.gameData),D.emit(B.REFRESH_BUTTOM,1),D.emit(B.REFRESH_TOP),this.move(),1==this.clickMoveNumArry[this.gameData.level]&&(this.clickMoveNumArry[this.gameData.level]=0)}else this.showResultPrefab(0,(()=>{this.restartGame()}))})):this.showResultPrefab(0,(()=>{this.restartGame()}))}}).prototype,"btn_move",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(Q.prototype,"btn_refresh",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(Q.prototype,"btn_reset",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(Q.prototype,"btn_rollback",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(Q.prototype,"bigBox",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(Q.prototype,"smallBox",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(Q.prototype,"content",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(Q.prototype,"bottom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(Q.prototype,"gezi",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(Q.prototype,"bottomExtra",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(Q.prototype,"btn_rank",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(Q.prototype,"btn_task",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(Q.prototype,"btn_diamond",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(Q.prototype,"btn_withdraw",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(Q.prototype,"btn_input",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Q))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameAlg.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c5a2dyzn9tNprd/cYA/x0GM","gameAlg",void 0);t("GameAlg",class{constructor(t){if(this.ROWS=void 0,this.COLS=void 0,this.MAX_LAYERS=void 0,this.ALL_ITEM_TYPES=void 0,this.BOX_INFO=void 0,this.LAYERS_ITEM_TYPES_COUNT=void 0,this.GRID_LAYER_RANGE=void 0,this.ROWS=t.rows,this.COLS=t.cols,this.MAX_LAYERS=t.maxLayers,this.ALL_ITEM_TYPES=t.allItemTypes,this.BOX_INFO=t.boxInfo,this.LAYERS_ITEM_TYPES_COUNT=t.layersItemTypesCount,this.GRID_LAYER_RANGE=t.gridLayerRange,this.LAYERS_ITEM_TYPES_COUNT.length!==this.MAX_LAYERS)throw new Error("layersItemTypesCount数组长度必须等于maxLayers")}generateGridLayers(){const t=[];for(let e=0;e<this.ROWS;e++){const s=[];for(let t=0;t<this.COLS;t++)if(0===this.BOX_INFO[e*this.COLS+t].z){const[r,o]=this.GRID_LAYER_RANGE[e*this.COLS+t],h=r+Math.floor(Math.random()*(o-r+1));s.push(h)}else s.push(0);t.push(s)}return t}generateLayerItemTypes(t){const e=this.LAYERS_ITEM_TYPES_COUNT[t],s=Array.from({length:this.ALL_ITEM_TYPES},((t,e)=>e+1)),r=[];for(;r.length<e;){const t=Math.floor(Math.random()*s.length);r.push(s.splice(t,1)[0])}return r}generateLayerPool(t,e){const s=this.generateLayerItemTypes(t),r=[],o=3*Math.floor(e/s.length/3);for(const t of s)r.push(...Array(o).fill(t));let h=e-o*s.length;const i=[...s].sort((()=>Math.random()-.5));for(;h>0;)for(const t of i){if(h<=0)break;const e=Math.min(3,h);r.push(...Array(e).fill(t)),h-=e}for(let t=r.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[r[t],r[e]]=[r[e],r[t]]}return r}generateBoardData(){const t=Array.from({length:this.ROWS},(()=>Array.from({length:3*this.COLS},(()=>[])))),e=this.generateGridLayers(),s=new Array(this.MAX_LAYERS).fill(0);for(let t=0;t<this.ROWS;t++)for(let r=0;r<this.COLS;r++){const o=e[t][r];if(o>0)for(let t=0;t<o;t++)t<this.MAX_LAYERS&&(s[t]+=3)}const r=[];for(let t=0;t<this.MAX_LAYERS;t++)s[t]>0&&(r[t]=this.generateLayerPool(t,s[t]));const o=new Array(this.MAX_LAYERS).fill(0);for(let s=0;s<this.ROWS;s++)for(let h=0;h<this.COLS;h++){const i=e[s][h];if(0===i)continue;const n=3*h;for(let e=0;e<i&&!(e>=this.MAX_LAYERS);e++)for(let h=0;h<3;h++){const i=r[e][o[e]++];t[s][n+h].push(i)}}return t}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/gameDataTypes.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"542b1rRDupFVYRQ7Y675UXo","gameDataTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager2.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"504a3X9ofZHLJ5tqZ69JHdD","gameManager",void 0);const t={level:1,score:0,coins:0,diamonds:300,money:0,moveCount:0,rollBackCount:0,refreshCount:0,showGuide:!0,removeNum:0,endGeziLock:!0};class r{static saveProgress(a){try{r.Data=a,localStorage.setItem(r.KEY,JSON.stringify(a))}catch(a){console.warn("保存进度失败:",a)}}static loadProgress(){const a=localStorage.getItem(r.KEY);if(a)try{return JSON.parse(a)}catch(a){console.warn("读取进度失败:",a)}return console.warn("没有找到游戏进度，返回默认值"),{...t}}static getGameData(){if(null!=r.Data)return r.Data;try{return r.Data=r.loadProgress(),r.Data}catch(a){console.warn("getGameData 读取进度失败:",a)}}static clearProgress(){localStorage.removeItem(r.KEY)}}a("GameManager",r),r.KEY="gameData",r.Data=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/inputinfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager2.ts","./ButtonClickHandler.ts"],(function(t){var e,i,n,o,l,r,s,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Button,l=t.ToggleContainer,r=t._decorator,s=t.Component},function(t){c=t.GameManager},function(t){a=t.ButtonClickHandler}],execute:function(){var u,h,g,d,f,p,b,m,C;n._RF.push({},"05a541ZMF9FbIl/GZWf76fG","inputinfo",void 0);const{ccclass:y,property:_}=r;t("move",(u=y("move"),h=_(o),g=_(o),d=_(l),u((b=e((p=class extends s{constructor(...t){super(...t),i(this,"btn_close",b,this),i(this,"btn_confim",m,this),i(this,"group",C,this),this.gameData=void 0}start(){this.gameData=c.loadProgress(),this.btn_close.node.on("click",a.handleBtnClickWithSound((()=>{this.onCloseClick()}),this),this),this.btn_confim.node.on("click",a.handleBtnClickWithSound((()=>{this.onConfim()}),this),this),this.group.node.children.forEach((t=>{t.on("toggle",this.toggle_cb,this)}))}toggle_cb(t){if(this.node.getChildByName("inputinfobg1").active=!1,this.node.getChildByName("inputinfobg2").active=!1,t.isChecked)switch(t.node.name){case"Toggle1":this.node.getChildByName("inputinfobg1").active=!0;break;case"Toggle2":case"Toggle3":this.node.getChildByName("inputinfobg2").active=!0}}onCloseClick(){this.node.destroy()}onConfim(){this.node.destroy()}}).prototype,"btn_close",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(p.prototype,"btn_confim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(p.prototype,"group",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/levelselect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Constant.ts","./BundleLoader.ts"],(function(e){var t,i,o,l,n,a,s,r,c,u,d,h,p,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,l=e.Node,n=e._decorator,a=e.Component,s=e.Label,r=e.Sprite,c=e.UITransform,u=e.tween,d=e.Vec3},function(e){h=e.AudioMgr},function(e){p=e.default},function(e){m=e.BundleLoader}],execute:function(){var g,v,N,f,y,b,C,w,_;o._RF.push({},"02681Hbuj1NnKylbCe9EN50","levelselect",void 0);const{ccclass:S,property:B}=n,A=.5;e("levelselect",(g=S("levelselect"),v=B(l),N=B(l),f=B(l),g((C=t((b=class extends a{constructor(...e){super(...e),i(this,"leftNode",C,this),i(this,"rightNode",w,this),i(this,"levelNode",_,this),this._animationCompleteCallback=null}initData(e,t){this.leftNode.getChildByName("value").getComponent(s).string=e.toString(),t&&(this._animationCompleteCallback=t),h.inst.playOneShot(p.SOUND_START),this.showRightNode(),this.showLeftNode(),this.showTopLevels(e)}showTopLevels(e){const t=e%4||4;for(let n=1;n<=4;n++){var i;const a=this.levelNode.getChildByName(`level${n}`);if(!a)continue;const c=t===n,u=c?"resources/textures/popup/9":"resources/textures/popup/14";let d;var o,l;if(m.loadSpriteFrame("b_bundle",u).then((e=>{a.getComponent(r).spriteFrame=e})).catch((e=>{console.error("Failed to load sprite data:",e)})),c)d=e,(null==(o=a.getChildByName("value_bg"))?void 0:o.active)&&(a.getChildByName("value_bg").active=!0),this.scheduleOnce((()=>this.playItemAnimation(a)),.05);else d=t>n?e-(t-n):e+(n-t),(null==(l=a.getChildByName("value_bg"))?void 0:l.active)&&(a.getChildByName("value_bg").active=!1),this.playItemAnimation(a);(null==(i=a.getChildByName("value"))?void 0:i.getComponent(s)).string=d.toString()}}showLeftNode(){var e;this.createSideNodeAnimation(this.leftNode,(null==(e=this.leftNode.getComponent(c))?void 0:e.width)||600,!0).call((()=>{var e;null==(e=this._animationCompleteCallback)||e.call(this),this._animationCompleteCallback=null})).start()}showRightNode(){var e;this.createSideNodeAnimation(this.rightNode,-((null==(e=this.rightNode.getComponent(c))?void 0:e.width)||600),!1).start()}playItemAnimation(e){const t=e.position.clone();u(e).to(A,{position:new d(t.x,t.y-600,t.z)}).delay(.5).to(A,{position:t}).start()}createSideNodeAnimation(e,t,i){const o=e.position.clone();return u(e).to(A,{position:new d(o.x+t,o.y,o.z)}).delay(.5).to(A,{position:o})}}).prototype,"leftNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"rightNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(b.prototype,"levelNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/levelstatic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager2.ts","./ButtonClickHandler.ts"],(function(t){var i,e,n,l,a,o,r,s,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,l=t.Button,a=t.Node,o=t._decorator,r=t.Component},function(t){s=t.GameManager},function(t){c=t.ButtonClickHandler}],execute:function(){var u,h,b,d,_,p,C,k,f,y,g,w,m,v,B,W,N;n._RF.push({},"2810aaPgL1MxoY+JeVlh8r9","levelstatic",void 0);const{ccclass:z,property:H}=o;t("levelstatic",(u=z("levelstatic"),h=H(l),b=H(l),d=H(a),_=H(a),p=H(l),C=H(l),k=H(l),u((g=i((y=class extends r{constructor(...t){super(...t),e(this,"btn_close",g,this),e(this,"btn_withdraw",w,this),e(this,"tiXian_Node",m,this),e(this,"fuHuo_Node",v,this),e(this,"btn_get",B,this),e(this,"btn_resu",W,this),e(this,"btn_replay",N,this),this.gameData=void 0,this.itemtype=0,this._Callback=null}start(){this.gameData=s.loadProgress(),this.btn_close.node.on("click",c.handleBtnClickWithSound((()=>{null!=this._Callback&&(this._Callback("Close"),this._Callback=null),this.onCloseClick()}),this),this),this.btn_withdraw.node.on("click",c.handleBtnClickWithSound((()=>{this.onWithdrawClick()}),this),this)}selectLayer(t,i){"Resurrection"==t?(this.tiXian_Node.active=!1,this.fuHuo_Node.active=!0,this._Callback=i,this.setResurrectionLayer()):(this.tiXian_Node.active=!0,this.fuHuo_Node.active=!1,this.setWithdrawLayer())}setResurrectionLayer(){this.btn_get.node.on("click",c.handleBtnClickWithSound((()=>{this._Callback("Buy"),this._Callback=null,this.onCloseClick()}),this),this),this.btn_resu.node.on("click",c.handleBtnClickWithSound((()=>{this.onWithdrawClick()}),this),this),this.btn_replay.node.on("click",c.handleBtnClickWithSound((()=>{this._Callback("Close"),this._Callback=null,this.onCloseClick()}),this),this)}setWithdrawLayer(){}onCloseClick(){this.node.destroy()}onWithdrawClick(){}}).prototype,"btn_close",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"btn_withdraw",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(y.prototype,"tiXian_Node",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"fuHuo_Node",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(y.prototype,"btn_get",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(y.prototype,"btn_resu",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(y.prototype,"btn_replay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskData.ts"],(function(e){var r,t,s,n,a,o,i,c,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.ProgressBar,a=e._decorator,o=e.Component,i=e.tween,c=e.assetManager,l=e.director},function(e){p=e.TaskData}],execute:function(){var u,g,d,f,h;s._RF.push({},"46e23Mo2uNDSZPsw6CU1CMA","loading",void 0);const{ccclass:B,property:b}=a;e("loading",(u=B("loading"),g=b({type:n}),u((h=r((f=class extends o{constructor(...e){super(...e),t(this,"progressBar",h,this)}start(){p.getInstance();let e=1*Math.random()+2;this.progressBar.progress=0,i(this.progressBar).to(e,{progress:1},{easing:"sineIn",onStart:()=>{this.progressBar.progress=0,c.getBundle("b_bundle").loadScene("b_scenes/Game",((e,r)=>{l.runScene(r)}))}}).call((()=>{})).start()}update(e){}}).prototype,"progressBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/MarqueeController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonClickHandler.ts","./BundleLoader.ts"],(function(t){var e,i,n,o,s,r,a,h,l,c,p,u,g,m,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Prefab,s=t.Node,r=t.CCInteger,a=t._decorator,h=t.Component,l=t.UITransform,c=t.Sprite,p=t.Vec3,u=t.instantiate,g=t.RichText},function(t){m=t.ButtonClickHandler},function(t){d=t.BundleLoader}],execute:function(){var f,b,y,w,C,x,B,H,M,v,P,_,F,N,S;n._RF.push({},"1deb0wIzZ1BXqR/hkJFlZQM","MarqueeController",void 0);const{ccclass:I,property:R}=a;t("MarqueeController",(f=I("MarqueeController"),b=R(o),y=R({type:s}),w=R({type:r,tooltip:"是否显示下拉箭头 (0:隐藏, 1:显示)"}),C=R({type:r,tooltip:"是否显示滚动背景 (0:隐藏, 1:显示)"}),x=R({type:s}),f((M=e((H=class extends h{constructor(...t){super(...t),i(this,"itemPrefab",M,this),i(this,"content",v,this),i(this,"scrollSpeed",P,this),i(this,"spacing",_,this),i(this,"show_expandBtn",F,this),i(this,"show_contentbg",N,this),i(this,"expandButton",S,this),this.items=[],this.itemHeight=0,this.viewHeight=0,this.currentOffset=0,this.isPlaying=!0,this.expandNum=10,this.isExpand=-1}start(){this.viewHeight=this.node.getComponent(l).height,this.createAllItems(),this.schedule(this.updateScroll,.016),this.expandButton.active=!1;const t=this.content.getComponent(c).spriteFrame;this.content.getComponent(c).spriteFrame=null,1===this.show_contentbg&&(this.content.getComponent(c).spriteFrame=t),1===this.show_expandBtn&&(this.expandButton.active=!0,this.expandButton.on("click",m.handleBtnClickWithSound((()=>{this.toggleExpand()}),this),this))}toggleExpand(){this.isExpand=-this.isExpand,this.expandButton.scale=new p(1,-this.isExpand,1);let t=1==this.isExpand?this.expandNum:1;this.node.getChildByName("ScrollView").getComponent(l).height=this.itemHeight*t,this.viewHeight=this.itemHeight*t,this.node.getChildByName("ScrollView").getChildByName("view").getComponent(l).height=this.itemHeight*t,this.content.getComponent(l).height=this.itemHeight*t}createAllItems(){const t=u(this.itemPrefab);this.itemHeight=t.getComponent(l).height,t.destroy();const e=Math.ceil(this.viewHeight/this.itemHeight)+49;for(let t=0;t<e;t++){const e=u(this.itemPrefab);this.content.addChild(e),this.setItemData(e,{icon_index:1+Math.floor(3*Math.random()),playerName:this.generateRandomName(2,2),challengeTimes:1+Math.floor(50*Math.random()),withdrawalAmount:this.getRandomInRange(20,100)});const i=-t*(this.itemHeight+this.spacing);e.setPosition(0,i,0),this.items.push(e)}}setItemData(t,e){var i;const n=`<b><color=#ffffff>congratulations player_${e.playerName} on passing this </color><br/>level <color=#F1CF62>(challenged ${e.challengeTimes} times)</color>,withdrawal of <br/><color=#F1CF62>$${e.withdrawalAmount}</color></b>`,o=null==(i=t.getChildByName("Label"))?void 0:i.getComponent(g);o&&(o.string=n),d.loadSpriteFrame("b_bundle",`resources/textures/popup/${e.icon_index}`).then((e=>{t.getChildByName("channel_icon").getComponent(c).spriteFrame=e})).catch((t=>{console.error("Failed to load sprite data:",t)}))}updateScroll(t){if(this.isPlaying){this.currentOffset+=this.scrollSpeed*t,this.currentOffset>this.itemHeight+this.spacing&&(this.currentOffset-=this.itemHeight+this.spacing,this.recycleItem());for(const e of this.items)e.setPosition(0,e.position.y+this.scrollSpeed*t)}}recycleItem(){let t=this.items[0],e=t.position.y;for(const i of this.items)i.position.y>e&&(t=i,e=i.position.y);let i=e;for(const t of this.items)t.position.y<i&&(i=t.position.y);t.setPosition(0,i-(this.itemHeight+this.spacing))}play(){this.isPlaying=!0}pause(){this.isPlaying=!1}generateRandomName(t,e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n="0123456789";let o="";for(let e=0;e<t;e++)o+=i.charAt(Math.floor(Math.random()*i.length));for(let t=0;t<e;t++)o+=n.charAt(Math.floor(Math.random()*n.length));return o}getRandomInRange(t,e){const i=Math.random()*(e-t)+t;return Math.round(100*i)/100}}).prototype,"itemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(H.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(H.prototype,"scrollSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),_=e(H.prototype,"spacing",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),F=e(H.prototype,"show_expandBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(H.prototype,"show_contentbg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=e(H.prototype,"expandButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=H))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/mask.ts",["cc"],(function(s){var t,e,c,o;return{setters:[function(s){t=s.cclegacy,e=s.Component,c=s.Node,o=s._decorator}],execute:function(){var n;t._RF.push({},"8ddb7f36N1BOpdqOgzNmt8h","mask",void 0);const{ccclass:a,property:r}=o;s("mask",a("mask")(n=class extends e{start(){this.node.on(c.EventType.TOUCH_END,this.onMaskClick,this)}onMaskClick(s){console.log("Mask node clicked!")}update(s){}})||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/move.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager2.ts","./Constant.ts","./EventManager.ts","./ButtonClickHandler.ts","./BundleLoader.ts"],(function(e){var t,i,n,o,r,s,a,l,c,p,u,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Button,r=e._decorator,s=e.Component,a=e.Label,l=e.Sprite},function(e){c=e.GameManager},function(e){p=e.default},function(e){u=e.eventManager},function(e){d=e.ButtonClickHandler},function(e){h=e.BundleLoader}],execute:function(){var m,g,b,_,C,f,v,y,k;n._RF.push({},"52709hrYExKRIvb+LH5diNN","move",void 0);const{ccclass:B,property:x}=r,R={1:p.BUY_MOVE,2:p.BUY_ROLLBACK,3:p.BUY_REFRESH};e("move",(m=B("move"),g=x(o),b=x(o),_=x(o),m((v=t((f=class extends s{constructor(...e){super(...e),i(this,"btn_close",v,this),i(this,"btn_receive",y,this),i(this,"btn_get",k,this),this.gameData=void 0,this.itemtype=0}start(){this.gameData=c.loadProgress(),this.btn_close.node.on("click",d.handleBtnClickWithSound((()=>{this.onCloseClick()}),this),this),this.btn_receive.node.on("click",d.handleBtnClickWithSound((()=>{this.onReceiveClick()}),this),this),this.btn_get.node.on("click",d.handleBtnClickWithSound((()=>{this.onGetClick()}),this),this)}onCloseClick(){this.node.destroy()}onReceiveClick(){}onGetClick(){const e=R[this.itemtype]||R[1];this.gameData.diamonds<e?u.emit(p.SHOW_TOAST,"not enough diamonds"):(this.gameData.diamonds-=e,c.saveProgress(this.gameData),u.emit(p.REFRESH_BUTTOM,this.itemtype),u.emit(p.REFRESH_TOP),this.node.destroy())}update(e){}setItemType(e){this.itemtype=e;const t=R[this.itemtype]||R[1];this.btn_get.node.getChildByName("Label").getComponent(a).string=`Get(${t})`;const i={1:{sprite:"popup/bang",text:"popup/move_text"},2:{sprite:"popup/rollback",text:"popup/rollback_text"},default:{sprite:"popup/refresh",text:"popup/refresh_text"}},n=i[e]||i.default,o=this.node.getChildByName("bang"),r=this.node.getChildByName("content");h.loadSpriteFrame("b_bundle",`resources/textures/${n.sprite}`).then((e=>{o.getComponent(l).spriteFrame=e})).catch((e=>{console.error("Failed to load sprite data:",e)})),h.loadSpriteFrame("b_bundle",`resources/textures/${n.text}`).then((e=>{r.getComponent(l).spriteFrame=e})).catch((e=>{console.error("Failed to load sprite data:",e)}))}}).prototype,"btn_close",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(f.prototype,"btn_receive",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(f.prototype,"btn_get",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/OpenDiamond.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonClickHandler.ts","./BundleLoader.ts"],(function(e){var t,i,l,a,n,o,r,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,a=e.Node,n=e.Label,o=e.Button,r=e._decorator,u=e.Component},function(e){c=e.ButtonClickHandler},function(e){s=e.BundleLoader}],execute:function(){var d,b,h,p,y,m,D,g,k,v,f,_,N,C,G,S,V;l._RF.push({},"7cee3RdHyNAZr/pMWe/dgOl","OpenDiamond",void 0);const{ccclass:B,property:w}=r;e("OpenDiamond",(d=B("OpenDiamond"),b=w(a),h=w(a),p=w(n),y=w(n),m=w(n),D=w({type:o}),g=w({type:o}),d((f=t((v=class extends u{constructor(...e){super(...e),i(this,"daily",f,this),i(this,"lucky",_,this),i(this,"receiveNum",N,this),i(this,"diamondValue",C,this),i(this,"luckyDiamondValue",G,this),i(this,"btn_daily_receive",S,this),i(this,"btn_lucky_receive",V,this),this.updataCallback=null,this.GlobalData=void 0}start(){const e=this.node.getChildByName("btn_close");e&&e.on(a.EventType.TOUCH_END,(()=>{this.node.destroy()}),this)}onDestroy(){var e;this.updataCallback&&(null==(e=this.updataCallback)||e.call(this),this.updataCallback=null)}setCallback(e){this.updataCallback=e}setModel(e){this.daily.active="Daily"==e,this.lucky.active="Lucky"==e,"Daily"==e?s.loadJson("b_bundle","resources/data/GlobalVariable").then((e=>{this.GlobalData=e[0],console.log(this.GlobalData);let t=(new Date).toLocaleDateString("en-US"),i=cc.sys.localStorage.getItem("ReceiveNum"+t);null==i?(this.receiveNum.string=this.GlobalData.SeeAdvertisingNum,cc.sys.localStorage.setItem("ReceiveNum"+t,this.GlobalData.SeeAdvertisingNum)):this.receiveNum.string=i,this.diamondValue.string="X"+this.GlobalData.SeeAdvertisingDiamondNum,this.btn_daily_receive.node.on("click",c.handleBtnClickWithSound((()=>{}),this),this)})).catch((e=>{console.error("Failed to load GlobalVariable data:",e)})):s.loadJson("b_bundle","resources/data/GlobalVariable").then((e=>{this.GlobalData=e[0],this.luckyDiamondValue.string="X"+this.GlobalData.LuckyDiamondNum,this.btn_lucky_receive.node.on("click",c.handleBtnClickWithSound((()=>{}),this),this)})).catch((e=>{console.error("Failed to load GlobalVariable data:",e)}))}}).prototype,"daily",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"lucky",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"receiveNum",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"diamondValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(v.prototype,"luckyDiamondValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"btn_daily_receive",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(v.prototype,"btn_lucky_receive",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/OpenTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskItem.ts","./gameManager2.ts","./ButtonClickHandler.ts","./Constant.ts","./EventManager.ts","./TaskData.ts","./result.ts","./BundleLoader.ts"],(function(t){var e,a,i,s,n,o,r,l,u,c,d,h,g,p,f,m,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Prefab,n=t.Toggle,o=t.Node,r=t._decorator,l=t.Component,u=t.instantiate},function(t){c=t.TaskItem},function(t){d=t.GameManager},function(t){h=t.ButtonClickHandler},function(t){g=t.default},function(t){p=t.eventManager},function(t){f=t.TaskData},function(t){m=t.result},function(t){k=t.BundleLoader}],execute:function(){var D,b,R,_,T,y,E,I,v,w,C,S,N,P,B,z,L;i._RF.push({},"4c425QBBK9BZqXGTRrz8ZGn","OpenTask",void 0);const{ccclass:O,property:x}=r;t("OpenTask",(D=O("OpenTask"),b=x(s),R=x(n),_=x(n),T=x(o),y=x(o),E=x(o),I=x(s),D((C=e((w=class extends l{constructor(...t){super(...t),a(this,"taskItemPrefab",C,this),a(this,"toggle1",S,this),a(this,"toggle2",N,this),a(this,"contentNode",P,this),a(this,"redDot_1",B,this),a(this,"redDot_2",z,this),a(this,"result",L,this),this.taskIndex=null,this.gameData=void 0}start(){this.taskIndex=0,this.gameData=d.loadProgress();this.node.getChildByName("btn_close").on("click",h.handleBtnClickWithSound((()=>{this.node.destroy()}),this),this),this.toggle1.node.on("toggle",this.callback1,this),this.toggle2.node.on("toggle",this.callback2,this),this.loadTaskData(),this.updateRedDot(),p.once(g.REFRESH_TASK_RED_DOT,(()=>{this.updateRedDot()}),this)}onDestroy(){p.off(g.REFRESH_TASK_RED_DOT)}updateRedDot(){const t=f.getInstance().checkRedDot("Level"),e=f.getInstance().checkRedDot("Eliminate");this.redDot_1.active=t,this.redDot_2.active=e}loadTaskData(){k.loadJson("b_bundle","resources/data/task").then((t=>{this.taskData=t,this.updateList(this.taskIndex)})).catch((t=>{console.error("Failed to load task data:",t)}))}updateList(t){this.contentNode.removeAllChildren();[...this.taskData[t].Reward].sort(((t,e)=>t.progress-e.progress)).forEach(((e,a)=>{const i=u(this.taskItemPrefab),s=i.getComponent(c);if(s){let a=0==t?this.gameData.level-1:this.gameData.removeNum;s.init(e,a,(t=>{this.showResultPrefab(3,(e=>{let a="Continue"==e?2*t.rewardNum:t.rewardNum;cc.sys.localStorage.setItem("TaskID"+t.taskID,1),this.gameData.diamonds=this.gameData.diamonds+Number(a),d.saveProgress(this.gameData),p.emit(g.REFRESH_TOP),this.updateList(this.taskIndex),p.emit(g.REFRESH_TASK_RED_DOT),p.emit(g.REFRESH_TASK_MAIN_RED_DOT)}),t)}))}this.contentNode.addChild(i)}))}callback1(t){t.isChecked&&(this.taskIndex=0,this.updateList(0))}callback2(t){t.isChecked&&(this.taskIndex=1,this.updateList(1))}showResultPrefab(t,e,a){if(this.result){const i=u(this.result);this.node.addChild(i);const s=i.getComponent(m);s&&"function"==typeof s.showResult&&s.showResult(t,e,a)}}}).prototype,"taskItemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(w.prototype,"toggle1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"toggle2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"contentNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"redDot_1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"redDot_2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"result",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/rank2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RankItem.ts","./ButtonClickHandler.ts","./BundleLoader.ts"],(function(t){var e,n,a,r,o,i,l,s,c,d,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,r=t.Prefab,o=t.Node,i=t._decorator,l=t.Component,s=t.instantiate},function(t){c=t.RankItem},function(t){d=t.ButtonClickHandler},function(t){u=t.BundleLoader}],execute:function(){var h,k,p,f,b,m,y;a._RF.push({},"e90cfvq7QROiIKce+xwToU1","rank",void 0);const{ccclass:R,property:D}=i;t("RankManager",(h=R("RankManager"),k=D(r),p=D(o),h((m=e((b=class extends l{constructor(...t){super(...t),n(this,"rankItemPrefab",m,this),n(this,"contentNode",y,this),this.rankData=null}start(){this.node.getChildByName("btn_close").on("click",d.handleBtnClickWithSound((()=>{this.node.destroy()}),this),this),this.loadRankData()}loadRankData(){u.loadJson("b_bundle","resources/data/rank").then((t=>{this.rankData=t,this.sortAndDisplayRank()})).catch((t=>{console.error("Failed to load rank data:",t)}))}sortAndDisplayRank(){this.contentNode.removeAllChildren();[...this.rankData].sort(((t,e)=>e.level-t.level)).forEach(((t,e)=>{const n=s(this.rankItemPrefab),a=n.getComponent(c);a&&a.init(t,e+1),this.contentNode.addChild(n)}))}}).prototype,"rankItemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"contentNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleLoader.ts"],(function(e){var t,r,i,n,a,l,o,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Label,a=e.Node,l=e._decorator,o=e.Component,s=e.Sprite},function(e){u=e.BundleLoader}],execute:function(){var c,b,p,h,d,g,m,k,f,L,y,_,w,v,F;i._RF.push({},"13e7bbkaIxLq5VZgdszu/96","RankItem",void 0);const{ccclass:z,property:R}=l;e("RankItem",(c=z("RankItem"),b=R(n),p=R(n),h=R(n),d=R(n),g=R(a),m=R(a),c((L=t((f=class extends o{constructor(...e){super(...e),r(this,"rankLabel",L,this),r(this,"playerLabel",y,this),r(this,"levelLabel",_,this),r(this,"withdrawalsLabel",w,this),r(this,"rank_icon",v,this),r(this,"rank_bg",F,this)}init(e,t){this.rankLabel.string=`${t}`,this.playerLabel.string=e.player,this.levelLabel.string=`${e.level}`,this.withdrawalsLabel.string=e.withdrawals,this.rank_icon.active=!1,t<=3&&(this.rank_icon.active=!0,u.loadSpriteFrame("b_bundle",`resources/textures/rank/${t}/spriteFrame`).then((e=>{this.rank_icon.getComponent(s).spriteFrame=e})).catch((e=>{console.error("Failed to load sprite data:",e)}))),u.loadSpriteFrame("b_bundle",`resources/textures/rank/bg_${t%2}/spriteFrame`).then((e=>{this.rank_bg.getComponent(s).spriteFrame=e})).catch((e=>{console.error("Failed to load sprite data:",e)}))}}).prototype,"rankLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(f.prototype,"playerLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(f.prototype,"levelLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(f.prototype,"withdrawalsLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"rank_icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(f.prototype,"rank_bg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=f))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/result.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Constant.ts","./ButtonClickHandler.ts","./gameManager2.ts"],(function(t){var i,e,n,l,a,s,o,r,u,c,h,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,l=t.Node,a=t.Button,s=t.Label,o=t._decorator,r=t.Component},function(t){u=t.AudioMgr},function(t){c=t.default},function(t){h=t.ButtonClickHandler},function(t){b=t.GameManager}],execute:function(){var g,d,p,_,f,m,v,C,y,k,z,N,B,D,w,O,S,M,$,A,E;n._RF.push({},"807d48svudJtbNGuV28FpjU","result",void 0);const{ccclass:R,property:F}=o;t("result",(g=R("result"),d=F(l),p=F(l),_=F(l),f=F(a),m=F(a),v=F(a),C=F(s),y=F(s),k=F(s),g((B=i((N=class extends r{constructor(...t){super(...t),e(this,"success",B,this),e(this,"failed",D,this),e(this,"congratulation",w,this),e(this,"btn_continue",O,this),e(this,"mask",S,this),e(this,"btn_giveup",M,this),e(this,"qian_label",$,this),e(this,"zuan_label",A,this),e(this,"zuan_label2",E,this),this.gameData=void 0,this._closeCallback=null}showResult(t,i,e){this.gameData=b.loadProgress(),this.success&&(this.success.active=!1),this.failed&&(this.failed.active=!1),this.congratulation&&(this.congratulation.active=!1,this.congratulation.getChildByName("a").active=!1,this.congratulation.getChildByName("b").active=!1),1===t&&this.success?(u.inst.playOneShot(c.SOUND_WIN),this.success.active=!0,this.success.getChildByName("level_label").getComponent(s).string=`${this.gameData.level}`):0===t&&this.failed?(u.inst.playOneShot(c.SOUND_LOSE),this.failed.getChildByName("value_Label").getComponent(s).string=`${this.gameData.money.toFixed(2)}`,this.failed.active=!0):2===t&&this.congratulation?(this.congratulation.active=!0,this.congratulation.getChildByName("a").active=!0,this.qian_label.getComponent(s).string=`+$${c.REMOVE_AD_COIN}`,this.zuan_label.getComponent(s).string=`X${c.REMOVE_AD_DIAMOND}`):3===t&&this.congratulation&&(this.congratulation.active=!0,this.congratulation.getChildByName("b").active=!0,this.zuan_label2.string=`X${e.rewardNum}`),i&&(this._closeCallback=i)}start(){this.btn_continue&&this.btn_continue.node.on("click",h.handleBtnClickWithSound((()=>{var t;null==(t=this._closeCallback)||t.call(this,"Continue"),this._closeCallback=null,this.node.destroy()}),this),this),this.mask&&this.mask.node.on("click",h.handleBtnClickWithSound((()=>{var t;null==(t=this._closeCallback)||t.call(this,"Giveup"),this._closeCallback=null,this.node.destroy()}),this),this),this.btn_giveup&&this.btn_giveup.node.on("click",h.handleBtnClickWithSound((()=>{var t;null==(t=this._closeCallback)||t.call(this,"Giveup"),this._closeCallback=null,this.node.destroy()}),this),this)}}).prototype,"success",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(N.prototype,"failed",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(N.prototype,"congratulation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(N.prototype,"btn_continue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(N.prototype,"mask",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(N.prototype,"btn_giveup",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(N.prototype,"qian_label",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(N.prototype,"zuan_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(N.prototype,"zuan_label2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/startover.ts",["cc","./ButtonClickHandler.ts"],(function(t){var e,n,s,i;return{setters:[function(t){e=t.cclegacy,n=t.Component,s=t._decorator},function(t){i=t.ButtonClickHandler}],execute:function(){var o;e._RF.push({},"5d481PAPTpF2LtMb3yyyAUL","startover",void 0);const{ccclass:r,property:c}=s;t("startover",r("startover")(o=class extends n{constructor(...t){super(...t),this._restartCallback=null}initData(t){t&&(this._restartCallback=t)}start(){const t=this.node.getChildByName("btn_over"),e=this.node.getChildByName("btn_continue");this.node.getChildByName("btn_close").on("click",i.handleBtnClickWithSound((()=>{this.node.destroy()}),this),this),e.on("click",i.handleBtnClickWithSound((()=>{this.node.destroy()}),this),this),t.on("click",i.handleBtnClickWithSound((()=>{var t;null==(t=this._restartCallback)||t.call(this),this._restartCallback=null,this.node.destroy()}),this),this)}update(t){}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/TaskData.ts",["cc","./gameManager2.ts","./BundleLoader.ts"],(function(t){var a,e,s;return{setters:[function(t){a=t.cclegacy},function(t){e=t.GameManager},function(t){s=t.BundleLoader}],execute:function(){a._RF.push({},"5abcbj/HZZPh4+AGLfNKyta","TaskData",void 0);class n{constructor(){this.redDotLevel=!1,this.redDotElimination=!1,this.taskJosnData=void 0}static getInstance(){if(null===n.s_TaskData){const t=new n;if(!t.init())return n.s_TaskData=null,null;n.s_TaskData=t}return n.s_TaskData}static destroyInstance(){n.s_TaskData&&(n.s_TaskData=null)}init(){return null==this.taskJosnData&&this.loadTaskData(),!0}loadTaskData(){s.loadJson("b_bundle","resources/data/task").then((t=>{console.log("=========taskJson",t),this.taskJosnData=t})).catch((t=>{console.error("Failed to load level data:",t)}))}checkRedDot(t){if(null==this.taskJosnData)return!1;const a="Level"==t?0:1,s=this.taskJosnData[a].Reward,n="Level"==t?e.getGameData().level-1:e.getGameData().removeNum;for(let t=0;t<s.length;t++){let a=cc.sys.localStorage.getItem("TaskID"+s[t].taskID);if(n>=s[t].progress&&null==a)return!0}return!1}checkTaskBtnRedDot(){return this.checkRedDot("Level")||this.checkRedDot("Eliminate")}}t("TaskData",n),n.s_TaskData=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Constant.ts","./EventManager.ts"],(function(e){var t,i,r,a,s,l,n,o,c,u,p,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e.Sprite,s=e.Node,l=e.Button,n=e.Label,o=e.ProgressBar,c=e._decorator,u=e.Component},function(e){p=e.AudioMgr},function(e){b=e.default},function(e){h=e.eventManager}],execute:function(){var d,f,g,m,v,y,k,w,_,D,I,N,T,S,z,R,E,B,C,M,A;r._RF.push({},"19510mECapKmZePa7wo4k0F","TaskItem",void 0);const{ccclass:F,property:L}=c;e("TaskItem",(d=F("TaskItem"),f=L(a),g=L(s),m=L(l),v=L(s),y=L(s),k=L(n),w=L(n),_=L({type:o}),D=L(s),d((T=t((N=class extends u{constructor(...e){super(...e),i(this,"receiveSp",T,this),i(this,"receiveNode",S,this),i(this,"receivebtn",z,this),i(this,"difficulty",R,this),i(this,"simple",E,this),i(this,"rewardNum",B,this),i(this,"detailsLab",C,this),i(this,"progressBar",M,this),i(this,"receive_disable",A,this),this.taskItemData=null,this.updataCallback=null}start(){}init(e,t,i){this.taskItemData=e,this.updataCallback=i,this.difficulty.active=2==e.rewardTitle,this.simple.active=1==e.rewardTitle,this.rewardNum.string=e.rewardNum,this.detailsLab.string=e.details,this.progressBar.progress=t<=e.progress?t/e.progress:1;let r=cc.sys.localStorage.getItem("TaskID"+e.taskID);t>=e.progress&&null==r?(this.receiveNode.active=!0,this.receivebtn.interactable=!0,this.receive_disable.active=!1):t>=e.progress&&1==r?(this.receiveNode.active=!1,this.receivebtn.interactable=!1,this.receive_disable.active=!0):t<e.progress&&(this.receiveNode.active=!1,this.receive_disable.active=!1)}getReward(){var e;p.inst.playOneShot(b.SOUND_BTN),cc.sys.localStorage.setItem("TaskID"+this.taskItemData.taskID,1),null==(e=this.updataCallback)||e.call(this,this.taskItemData),this.updataCallback=null,h.emit(b.REFRESH_TASK_RED_DOT),h.emit(b.REFRESH_TASK_MAIN_RED_DOT)}}).prototype,"receiveSp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"receiveNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"receivebtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"difficulty",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"simple",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"rewardNum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(N.prototype,"detailsLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"progressBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"receive_disable",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=N))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/toast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r,s,i,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Node,s=t._decorator,i=t.Component,a=t.Label,c=t.tween,l=t.Vec3}],execute:function(){var u,p,d,h,v;n._RF.push({},"e86caqaoZNJVbZ+LYaHEbCW","toast",void 0);const{ccclass:b,property:f}=s;t("toast",(u=b("toast"),p=f(r),u((v=e((h=class extends i{constructor(...t){super(...t),o(this,"value",v,this)}start(){}setString(t){this.value.getComponent(a).string=t;const e=this.node.position.clone();c(this.node).to(.5,{position:new l(e.x,e.y+80,e.z)}).call((()=>{this.node.removeFromParent()})).start()}}).prototype,"value",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/b_bundle', 'chunks:///_virtual/b_bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});